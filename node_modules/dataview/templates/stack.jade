doctype html
html
  head
    title DataView
    meta(charset='utf-8')
  body
    #main(style='height:#{height}px')
    script(src='http://echarts.baidu.com/build/dist/echarts-all.js')
    script(type='text/javascript')
      | var myChart = echarts.init(document.getElementById('main'));
      | var option = {
      |   tooltip: {
      |     trigger: 'axis'
      |   },
      |   toolbox: {
      |       show : true,
      |       feature : {
      |           mark : {show: true},
      |           dataView : {show: true, readOnly: false},
      |           magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
      |           restore : {show: true},
      |           saveAsImage : {show: true}
      |       }
      |   },
      |   calculable : true,
      |   legend: {
      |     data: #{title}
      |   },
      |   xAxis : [
      |     {
      |       type : 'category',
      |       data : #{xAxis}
      |     }
      |   ],
      |   yAxis : [
      |     {
      |       type : 'value'
      |     }
      |   ],
      |   series : [
      - for(var i = 0; i<datas.length; i++) {
      |   {
      |     name:'#{datas[i].name}',
      |     type:'line',
      |     stack: '总量',
      |     data: #{datas[i].list},
      |     markPoint : {
      |       data : [
      |         {type : 'max', name: '最大值'},
      |         {type : 'min', name: '最小值'}
      |       ]
      |     },
      |     markLine : {
      |       data : [
      |         {type : 'average', name: '平均值'}
      |       ]
      |     }
      |   },
      - }
      |  ]
      | };
      | myChart.setOption(option); 