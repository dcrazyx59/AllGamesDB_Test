doctype html
html
  head
    title DataView
    meta(charset='utf-8')
  body
    #main(style='height:#{height}px')
    script(src='http://echarts.baidu.com/build/dist/echarts-all.js')
    script(type='text/javascript')
      | // 基于准备好的dom，初始化echarts图表
      | var myChart = echarts.init(document.getElementById('main'));
      | var option = {
      |   tooltip: {
      |     show: true
      |   },
      |   legend: {
      |     data:['#{title}']
      |   },
      |   xAxis : [
      |     {
      |       type : 'category',
      |       data : [ #{xAxis} ]
      |     }
      |   ],
      |   yAxis : [
      |     {
      |       type : 'value'
      |     }
      |   ],
      |   series : [
      - for(var i = 0; i<datas.length; i++) {
      |   {
      |     name:'#{datas[i].name}',
      |     type:'line',
      |     data: [ #{datas[i].list} ],
      |     markPoint : {
      |       data : [
      |         {type : 'max', name: '最大值'},
      |         {type : 'min', name: '最小值'}
      |       ]
      |     },
      |     markLine : {
      |       data : [
      |         {type : 'average', name: '平均值'}
      |       ]
      |     }
      |   },
      - }
      |  ]
      | };
      | // 为echarts对象加载数据 
      | myChart.setOption(option); 